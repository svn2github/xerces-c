<?xml version="1.0" standalone="no"?>
<!DOCTYPE faqs SYSTEM "sbk:/style/dtd/faqs.dtd">

<faqs title="Parsing with &XercesCName;">
    <faq title="Why does my application crash on AIX when I run it under a
         multi-threaded environment?">

      <q>Why does my application crash on AIX when I run it under a
        multi-threaded environment?</q>

      <a>
        <p>AIX maintains two kinds of libraries on the system,
          thread-safe and non-thread safe. Multi-threaded libraries on
          AIX follow a different naming convention, Usually the
          multi-threaded library names are followed with "_r". For
          example, libc.a is single threaded whereas libc_r.a is
          multi-threaded.</p>

        <p>To make your multi-threaded application run on AIX, you
          MUST ensure that you do not have a 'system library path' in
          your LIBPATH environment variable when you run the
          application. The appropriate libraries (threaded or
          non-threaded) are automatically picked up at runtime. An
          application usually crashes when you build your application
          for multi-threaded operation but don't point to the
          thread-safe version of the system libraries. For example,
          LIBPATH can be simply set as:</p>

<source>LIBPATH=$HOME/&lt;&XercesCProjectName;&gt;/lib</source>

        <p>Where &lt;&XercesCProjectName;&gt; points to the directory where
          &XercesCProjectName; application resides.</p>

        <p>If for any reason, unrelated to &XercesCProjectName;, you need to
          keep a 'system library path' in your LIBPATH environment
          variable, you must make sure that you have placed the
          thread-safe path before you specify the normal system
          path. For example, you must place <ref>/lib/threads</ref> before
          <ref>/lib</ref> in your LIBPATH variable. That is to say your
          LIBPATH may look like this:</p>

<source>export LIBPATH=$HOME/&lt;&XercesCProjectName;&gt;/lib:/usr/lib/threads:/usr/lib</source>

        <p>Where /usr/lib is where your system libraries are.</p>
      </a>
  </faq>

  <faq title="What compilers are being used on the supported platforms?">

    <q>What compilers are being used on the supported platforms?</q>

    <a>
      <p>&XercesCProjectName; has been built on the following platforms with these
        compilers</p>

      <table>
        <tr><td><em>Operating System</em></td><td><em>Compiler</em></td></tr>
        <tr><td>Windows NT SP5/98</td><td>MSVC 6.0</td></tr>
        <tr><td>Redhat Linux 6.0</td><td>gcc</td></tr>
        <tr><td>AIX 4.1.4  and higher</td><td>xlC 3.1</td></tr>
        <tr><td>Solaris 2.6</td><td>CC version 4.2</td></tr>
        <tr><td>HP-UX B10.2</td><td>aCC and CC</td></tr>
        <tr><td>HP-UX B11</td><td>aCC and CC</td></tr>
      </table>
    </a>
  </faq>

  <faq title="I cannot run my sample applications. What is wrong?">

    <q>I cannot run my sample applications. What is wrong?</q>
    <a>
      <p>There are two major installation issues which must be dealt
        with in order to use &XercesCProjectName; from your applications. The
        DLL or shared library must be locatable via the system's
        environment. And, the converter files used by &XercesCProjectName; for
        its transcoding must be locatable.
      </p>
      <p>On UNIX platforms you need to ensure that your library search
        environment variable includes the directory which has the
        &XercesCProjectName; shared library (On AIX, this is LIBPATH, on
        Solaris and Linux it is LD_LIBRARY_PATH while on HP-UX it is
        SHLIB_PATH). Thus, if you installed your binaries under
        <code>$HOME/fastxmlparser</code>, you need to point your
        library path to that directory.
      </p>

<source>export LIBPATH=$LIBPATH:$HOME/fastxmlparser/lib # (AIX)

export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/fastxmlparser/lib # (Solaris, Linux)

export SHLIB_PATH=$SHLIB_PATH:$HOME/fastxmlparser/lib # (HP-UX)</source>

      <p>On Win32, you would ensure that the &XercesCProjectName; DLLs are in
        the PATH environment.</p>

      <p>For the transcoding files <code>(*.cnv)</code>, the
        easiest mechanism (which is used in the binary release) is to
        place them relative to the shared library or DLL. The
        transcoding converter files should be in the
        <code>icu/data</code> directory relative to the shared library
        or DLL. This will allow them to be located automatically.</p>

      <p>However, if you redistribute &XercesCProjectName; within some other
        product, and cannot maintain this relationship, or if your
        build scenario does not allow you to maintain this
        relationship during debugging for instance, you can use the
        ICU_DATA environment variable to point to these converter
        files (make sure the variable ends with a backslash '\' on Windows platforms).
    This variable may be set system wide, within a
        particular command window, or just within the client
        application or higher level libraries, as is deemed
        necessary. It must be set before the XML system is initialized
        (see below.)
      </p>
    </a>
  </faq>

  <faq title="I just built my own application using the &XercesCProjectName; parser. Why does it
       crash?">

    <q>I just built my own application using the &XercesCProjectName; parser. Why does it
      crash?</q>
    <a>
      <p>In order to work with the &XercesCProjectName; parser, you have to
        first initialize the XML subsystem. The most common mistake is
        to forget this initialization. Before you make any calls to
        &XercesCProjectName; APIs, you must call</p>

<source>XMLPlatformUtils::Initialize():
try {
   XMLPlatformUtils::Initialize();
}
catch (const XMLException&amp; toCatch) {
   // Do your failure processing here
}</source>

      <p>This initializes the &XercesCProjectName; system and sets its
        internal variables.  Note that you must the include
        <code>util/PlatformUtils.hpp</code> file for this to work.</p>

      <p>The second common problem is the absence of the transcoding
        converter files <code>(*.cnv)</code>. This problem has a
        simple fix, if you understand how the transcoding converter
        files are searched.</p>

      <p>&XercesCProjectName; first looks for the environment variable
        ICU_DATA. If it finds this variable in your environment
        settings, then it assumes that the transcoding converter files
        are kept in that directory.  Thus, for example, if you had set
        your environment variable to (say):</p>

<source>set ICU_DATA=d:\my&XercesCProjectName;\icu\data\</source>

      <p>The transcoding converter files (all files having extension
        .cnv and convrtrs.txt) will be searched under
        <code>d:\my&XercesCProjectName;\icu\data</code></p>

      <p>If you have not set your environment variable, then the
        search for the transcoding converters is done relative to the
        location of the shared library &XercesCWindowsLib;.dll (or
        &XercesCUnixLib;.a on AIX and &XercesCUnixLib;.so on Solaris and
        Linux, &XercesCUnixLib;.sl on HP-UX). Thus if your shared library
        is in <code>d:\fastxmlparser\lib</code>, then your transcoding
        converter files should be in
        <code>d:\fastxmlparser\lib\icu\data.</code></p>

      <p>Before you run your application, make sure that you have
        covered the two possibilities mentioned above.</p>

    </a>
  </faq>



  <faq title="Is &XercesCProjectName; thread-safe?">

    <q>Is &XercesCProjectName; thread-safe?</q>

    <a>
      <p>This is not a question that has a simple yes/no answer. Here are
        the rules for using &XercesCProjectName; in a multi-threaded environment:</p>

      <p>Within an address space, an instance of the parser may be used
        without restriction from a single thread, or an instance of the
        parser can be accessed from multiple threads, provided the
        application guarantees that only one thread has entered a method
        of the parser at any one time.</p>

      <p>When two or more parser instances exist in a process, the
        instances can be used concurrently, and without external
        synchronization.  That is, in an application containing two
        parsers and two threads, one pareser can be running within the
        first thread concurrently with the second parser running
        within the second thread.</p>

      <p>The same rules apply to &XercesCProjectName; DOM documents -
        multiple document instances may be concurrently accessed from
        different threads, but any given document instance can only be
        accessed by one thread at a time.</p>

      <p>DOMStrings allow multiple concurrent readers.  All DOMString
        const methods are thread safe, and can be concurrently entered
        by multiple threads.  Non-const DOMString methods, such as
        appendData(), are not thread safe and the application must
        guarantee that no other methods (including const methods) are
        executed concurrently with them.</p>
    </a>
  </faq>

    <faq title="Why does my multi-threaded application crash on Solaris?">
        <q>Why does my multi-threaded application crash on Solaris?</q>
        <a>
            <p>The problem appears because the throw call on Solaris 2.6 
            is not multi-thread safe. Sun Microsystems provides a patch to 
            solve this problem. To get the latest patch for solving this 
            problem, go to <jump href="http://sunsolve.sun.com">SunSolve.sun.com</jump> 
            and get the appropriate patch for your operating system. 
            For Intel machines running Solaris, you need to get Patch ID 104678. 
            For SPARC machines you need to get Patch ID #105591.</p>
        </a>
    </faq>  
    
    <faq title="How do I find out what version of &XercesCProjectName; I am using?">
        <q>How do I find out what version of &XercesCProjectName; I am using?</q>
        <a>
      <p>The version string for &XercesCProjectName; happens to be in one of
        the source files. Look inside the file
        <code>src/util/XML4CDefs.hpp</code> and find out what the
        static variable <code>gXML4CFullVersionStr</code> is defined
        to be. (It is usually of type 3.0.0 or something
        similar). This is the version of XML you are using.</p>

      <p>If you don't have the source code, you have to find the version
        information from the shared library name. On Windows NT/95/98
        right click on the DLL name &XercesCWindowsLib;.dll in the bin directory
        and look up properties. The version information may be found on
        the Version tab.</p>

      <p>On AIX, just look for the library name &XercesCUnixLib;.a (or
        &XercesCUnixLib;.so on Solaris/Linux and &XercesCUnixLib;.sl on
        HP-UX).  The version number is coded in the name of the
        library.</p>
    </a>
  </faq>

  <faq title="How do I uninstall &XercesCProjectName;?">
    <q>How do I uninstall &XercesCProjectName;?</q>
    <a>
      <p>&XercesCProjectName; only installs itself in a single directory and
        does not set any registry entries. Thus, to un-install, you
        only need to remove the directory where you installed it, and
        all &XercesCProjectName; related files will be removed.</p>
    </a>
  </faq>

  <faq title="How do I add an additional transcoding file in the existing set?">
    <q>How do I add an additional transcoding file in the existing set?</q>
    <a>
      <p>Transcoding files shipped with binary drops of &XercesCProjectName;
        exist in the <code>bin/icu/data</code> directory on Win32 and
        in the <code>lib/icu/data</code> directory under various
        unix's.  All transcoding files have the extension .cnv and are
        platform specific binary files. The ICU drop provides the
        utility 'makeconv' to generate these binary files. To add an
        additional transcoding file, you need to first define your new
        code-set in ASCII format (which has the extension .ucm). The
        coding format for an encoding may be obtained from one of the
        existing files in icu/data (in the source drop). After you
        create the .ucm file for your new language, you need to
        convert it to a binary form using makeconv.</p>

      <p>Thus, if your new code-set is defined in file
        mynewcodeset.ucm , you would type:</p>

<source>makeconv mynewcodeset.ucm</source>

      <p>...to create the binary transcoding file mynewcodeset.cnv. Make
        sure that this .cnv file is packaged in the same place as the
        others, i.e. in a directory <code>icu/data</code> relative to
        where your shared library is.</p>

      <p>You can also add aliases for this encoding in the file
        'convrtrs.txt', also present in the same directory as the
        converter files.</p>
    </a>
  </faq>

  <faq title="How are entity reference nodes handled in DOM?">
    <q>How are entity reference nodes handled in DOM?</q>
    <a>
      <p>If you are using the native DOM classes, the function
        <code>setExpandEntityReferences</code> controls how entities appear in the
        DOM tree. When setExpandEntityReferences is set to false (the
        default), an occurance of an entity reference in the XML
        document will be represented by a subtree with an
        EntityReference node at the root whose children represent the
        entity expansion. Entity expansion will be a DOM tree
        representing the structure of the entity expansion, not a text
        node containing the entity expansion as text.</p>

      <p>If setExpandEntityReferences is true, an entity reference in the
        XML document is represented by only the nodes that represent the
        entity expansion. The DOM tree will not contain any
        entityReference nodes.</p>
    </a>
  </faq>

  <faq title="What kinds of URLs are currently supported in &XercesCProjectName;?">
    <q>What kinds of URLs are currently supported in &XercesCProjectName;?</q>
    <a>
      <p>We now have a spec. compliant, but limited, implementation of
        the class URL. Xerces-C has code to parse URL's into components, but
        it does have intrinsic support for making actual connections to
        the remote resource pointed to by the URL. The limitations are:</p>
      <ul>
        <li>The only protocol currently supported is the "file://"
          which is used to refer to files locally.</li>

        <li>Only the 'localhost' string is supported in the host
          placeholder in the URL syntax.</li>
      </ul>

      <p>This should work for command line arguments to samples as well as
        any usage in the XML file when referring to an external file.</p>

      <p>Examples of what this implementation will allow you to do are:</p>

<source>e:\&gt;domcount file:///e:/&XercesCProjectName;/build/win32/vc6/debug/abc.xml

or

e:\&gt;domcount file::///&XercesCProjectName;/build/win32/vc6/debug/abc.xml
e:\&gt;domcount file::///d:/abc.xml

or

e:\>domcount file:://localhost/d:/abc.xml</source>

      <p>Example of what you cannot do is:</p>
      <ul>
		<li>Refer to files using the 'file://' syntax and giving a
        relative path to the file.</li>

		<li>This implies that if you are using the 'file://' syntax to
        refer to external files, you have to give the complete path to
        files even in the current directory.</li>
	  </ul>
	  <p>You always have the option of not using the 'file://' syntax
      and referring to files by just giving the filename or a
      relative path to it as in:</p>

<source>domcount abc.xml</source>

    </a>
  </faq>

  <faq title="How can I add support for URL's with HTTP/FTP protocols?">
    <q>How can I add support for URL's with HTTP/FTP protocols?</q>
    <a>
      <p>To address the need to make remote connections to resources
      specified using other protocols like HTTP, FTP etc..., Xerces-C
      now provides the <code>NetAccessor</code> interface. The header
      file is <code>src/util/XMLNetAccessor.hpp</code>. This interface
      allows you to plug in your own implementation of URL networking
      code into the Xerces-C parser.</p>

      <p>One such implementation <em>(tested minimally under WinNT
      only)</em> is already provided in &XercesCName; source code
      drop, using <jump href="http://www.w3.org/Library/">W3C's Libwww
      library</jump>. Libwww is available for free and has been ported
      to various platforms. Click <jump
      href="build.html#BuildUsingLibwww">here</jump> to read how you
      can rebuild Xerces-C binaries with this implementation.</p>

      <p>Some more notes about the NetAccessor implementation using
      Libwww:</p>

      <ul>
		<li>This implementation only supports HTTP and does not return
      adequate error messages when connections cannot be made to the
      remote resources. It however illustrates how you can add support
      for HTTP and FTP URL's.</li>

		<li>The Xerces-C team will <em>NOT</em> be able to address any
      questions related to how things work in Libwww. You can get some
      help with Libwww by subscribing to the &lt;<jump
      href="mailto:www-lib-request@w3.org?subject=subscribe">www-lib@w3.org</jump>&gt;
      public mailing list.</li>

		<li>However, we will welcome any feedback on the design of the
      NetAccessor interface. Please send all such feedback to <jump
      href="mailto:xerces-dev@xml.apache.org">xerces-dev@xml.apache.org</jump>.</li>

		<li>You do not have to recompile &XercesCName; to plugin your
      NetAccessor implementation. You can simply point the static
      pointer variable <code>XMLPlatformUtils::fgNetAccessor</code> to
      an instance of your NetAccessor implementation. Please refer to
      the files <code>src/util/PlatformUtils.cpp</code> and
      <code>src/util/Platforms/Win32/Win32PlatformUtils.cpp</code> to
      see how we have done this simple illustrative
      implementation.</li>

	  </ul>
    </a>
  </faq>


  <faq title="Can I use &XercesCProjectName; to parse HTML?">
    <q>Can I use &XercesCProjectName; to parse HTML?</q>
    <a>
      <p>Yes, if it follows the XML spec rules. Most HTML, however,
        does not follow the XML rules, and will therefore generate XML
        well-formedness errors.</p>
    </a>
  </faq>

  <faq title="I keep getting an error: &quot;invalid UTF-8 character&quot;. What's wrong?">
    <q>I keep getting an error: "invalid UTF-8 character". What's wrong?</q>
    <a>
      <p>There are many Unicode characters that are not allowed in
        your XML document, according to the XML spec. Typical
        disallowed characters are control characters, even if you
        escape them using the Character Reference form: See the XML
        spec, sections 2.2 and 4.1 for details. If the parser is
        generating this error, it is very likely that there's a
        character in there that you can't see.  You can generally use
        a UNIX command like "od -hc" to find it.</p>

      <p>Another reason for this error is that your file is in some
        non UTF/ASCII encoding but you gave no encoding="" string in
        your file to tell the parser what its real encoding is.</p>
    </a>
  </faq>

  <faq title="What encodings are supported by Xerces-C / XML4C?">
    <q>What encodings are supported by Xerces-C / XML4C?</q>
    <a>

      <p>Xerces-C uses has intrinsic support for ASCII, UTF-8, UTF-16
      (Big/Small Endian), UCS4 (Big/Small Endian), EBCDIC-US and
      ISO-8859-1 (aka Latin1) encodings. This means that it can parse
      input XML files in these above mentioned encodings.</p>

      <p>XML4C uses International Components for Unicode (ICU) for
      encoding &amp; Unicode support. ICU (1.4.0 and higher) is
      Unicode 3.0 compliant. ICU supports over 100 different
      encodings, of which some of them are listed below:</p>

      <table>
        <tr><td><em>Common Name</em></td><td><em>Use this MIME/IANA name in XML</em></td></tr>
        <tr><td>8 bit Unicode</td><td>UTF-8</td></tr>
        <tr><td>ISO Latin 1</td><td>ISO-8859-1</td></tr>
        <tr><td>ISO Latin 2</td><td>ISO-8859-2</td></tr>
        <tr><td>ISO Latin 3</td><td>ISO-8859-3</td></tr>
        <tr><td>ISO Latin 4</td><td>ISO-8859-4</td></tr>
        <tr><td>ISO Latin Cyrillic</td><td>ISO-8859-5</td></tr>
        <tr><td>ISO Latin Arabic</td><td>ISO-8859-6</td></tr>
        <tr><td>ISO Latin Greek</td><td>ISO-8859-7</td></tr>
        <tr><td>ISO Latin Hebrew</td><td>ISO-8859-8</td></tr>
        <tr><td>ISO Latin 5</td><td>ISO-8859-9</td></tr>
        <tr><td>EBCDIC: US</td><td>ebcdic-cp-us</td></tr>
        <tr><td>EBCDIC: Canada</td><td>ebcdic-cp-ca</td></tr>
        <tr><td>EBCDIC: Netherlands</td><td>ebcdic-cp-nl</td></tr>
        <tr><td>EBCDIC: Denmark</td><td>ebcdic-cp-dk</td></tr>
        <tr><td>EBCDIC: Norway</td><td>ebcdic-cp-no</td></tr>
        <tr><td>EBCDIC: Finland</td><td>ebcdic-cp-fi</td></tr>
        <tr><td>EBCDIC: Sweden</td><td>ebcdic-cp-se</td></tr>
        <tr><td>EBCDIC: Italy</td><td>ebcdic-cp-it</td></tr>
        <tr><td>EBCDIC: Spain, Latin America</td><td>ebcdic-cp-es</td></tr>
        <tr><td>EBCDIC: Great Britain</td><td>ebcdic-cp-gb</td></tr>
        <tr><td>EBCDIC: France</td><td>ebcdic-cp-fr</td></tr>
        <tr><td>EBCDIC: Arabic</td><td>ebcdic-cp-ar1</td></tr>
        <tr><td>EBCDIC: Hebrew</td><td>ebcdic-cp-he</td></tr>
        <tr><td>EBCDIC: Switzerland</td><td>ebcdic-cp-ch</td></tr>
        <tr><td>EBCDIC: Roece</td><td>ebcdic-cp-roece</td></tr>
        <tr><td>EBCDIC: Yugoslavia</td><td>ebcdic-cp-yu</td></tr>
        <tr><td>EBCDIC: Iceland</td><td>ebcdic-cp-is</td></tr>
        <tr><td>EBCDIC: Urdu</td><td>ebcdic-cp-ar2</td></tr>
        <tr><td>Chinese for PRC, mixed 1/2 byte</td><td>gb2312</td></tr>
        <tr><td>Extended UNIX code, packed for Japanese</td><td>euc-jp</td></tr>
        <tr><td>Japanese: iso-2022-jp</td><td>iso-2022-jp</td></tr>
        <tr><td>Japanese: Shift JIS</td><td>Shift_JIS</td></tr>
        <tr><td>Chinese: Big5</td><td>Big5</td></tr>
        <tr><td>Extended UNIX code, packed for Korean</td><td>euc-kr</td></tr>
        <tr><td>Korean: iso-2022-kr</td><td>iso-2022-kr</td></tr>
        <tr><td>Cyrillic</td><td>koi8-r</td></tr>
      </table>
            
    </a>
  </faq>

</faqs>

